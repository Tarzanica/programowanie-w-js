import { useEffect, useLayoutEffect, useRef } from 'react';
import { useGame } from './useGame';
/**
 * Runs a callback every game step
 */
export function useFrame(callback) {
    var game = useGame();
    var ref = useRef(callback);
    useLayoutEffect(function () {
        ref.current = callback;
    }, [callback]);
    useEffect(function () {
        function run() {
            ref.current();
        }
        game.on('step', run);
        return function () {
            game.off('step', run);
        };
    }, [game, ref]);
}
/**
 * Iterates over a query result entity list every
 * game step
 */
export function useQueryFrame(input, callback) {
    useFrame(function () {
        input.entities.forEach(callback);
    });
}
//# sourceMappingURL=useFrame.js.map